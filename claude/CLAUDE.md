# 開発ガイドライン

## 開発フロー

1. mainブランチから作業ブランチを作成
2. 変更を実装
3. コミット（コミットメッセージ規約に従う）
4. PRを作成
5. レビュー後にmainへマージ

## ブランチ規約

### ブランチ命名規則

- `feature/<機能名>` - 新機能追加
- `fix/<バグ名>` - バグ修正
- `refactor/<対象>` - リファクタリング
- `docs/<対象>` - ドキュメント更新

### ルール

- **mainブランチへの直接コミット禁止**
- 必ず作業ブランチを切ってPRを経由する
- ブランチ名は英語小文字とハイフンを使用

## コミットメッセージ規約

```
<type>: <subject>

<body>
```

### Type

- `feat`: 新機能
- `fix`: バグ修正
- `refactor`: リファクタリング
- `style`: スタイル変更（機能に影響なし）
- `docs`: ドキュメント
- `chore`: ビルド・設定変更

### 例

```
feat: 共通部分分析ページを追加

- 暗号文の範囲選択でハイライト機能
- マッチ件数の表示
```

## レビュー対応規約

PRのレビュー（Copilot含む）で指摘を受けた場合、すべての指摘項目について以下のいずれかで対応する:

1. **修正する** - 指摘が妥当な場合、コードを修正してコミット
2. **対応しない** - 指摘が不要または不適切な場合、理由を明記

### 報告フォーマット

`/resolve` コマンドで未解決レビューを取得・対応し、結果を報告する:

| # | 指摘内容 | 対応 | 理由 |
|---|---------|------|------|
| 1 | 〇〇を修正すべき | 修正済み (コミットハッシュ) | 指摘通り不整合があったため |
| 2 | △△を追加すべき | 対応しない | 現時点では不要なため |

### ルール

- **すべての指摘に回答する**（無視しない）
- 対応しない場合は必ず理由を書く
- 修正した場合はどのコミットで対応したか明記する

## Git操作の禁止事項

- **`git push --force` / `--force-with-lease` 禁止** — ユーザーの明示的な許可なく force push しない
- **`git commit --amend` 禁止** — push済みのコミットを amend しない。修正は新しいコミットで行う
- **`git reset --hard` 禁止**
- **`git rebase`（push済みブランチ）禁止** — push前のローカルコミット整理のみ許可

修正が必要な場合は、常に**新しいコミットを追加**して対応する。

## 禁止事項

### lint無効化コメント禁止

lintエラーが出た場合は、コメントで無効化せず**コードを修正**すること。
